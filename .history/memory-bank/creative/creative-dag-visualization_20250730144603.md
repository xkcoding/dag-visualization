# 🎨 创意阶段：DAG可视化浏览器插件

**项目**: DAG可视化浏览器插件  
**复杂度**: Level 3 (Intermediate Feature)  
**创意开始时间**: 轻量化技术验证完成后  
**技术基础**: 原生JavaScript + SVG已验证 ✅

---

## 📌 创意阶段总体概览

### 🎯 创意目标
基于已验证的轻量化技术栈，进行架构和UI/UX设计决策，确保最终产品的用户体验和技术实现的最佳结合。

### 🔍 创意范围
1. **技术架构决策**：浏览器插件 vs 油猴脚本（高优先级）
2. **UI/UX设计**：节点样式、颜色方案、交互模式（中优先级）  
3. **布局算法选择**：分层布局 vs 网格布局（低优先级）

### 📊 设计约束
- **技术基础**: 原生JavaScript + SVG（已验证）
- **数据源**: dag-question-rewrite-rerank.json（29个节点）
- **目标用户**: 工作流配置开发人员
- **浏览器兼容性**: Chrome, Firefox, Safari
- **性能要求**: 轻量级、快速加载

---

## 📋 创意决策进展

### ✅ 完成的决策
- 技术栈选择：原生JavaScript + SVG
- 数据解析方案：JSON解析器（已验证）

### 🎨 待创意设计的组件
- [ ] **架构决策**：部署方式选择
- [ ] **UI/UX设计**：视觉样式和交互设计
- [ ] **布局算法**：节点布局策略

---

## 🚀 创意阶段执行计划

### 第一步：技术架构决策（高优先级）
📍 **当前进行中** - 浏览器插件 vs 油猴脚本选择

### 第二步：UI/UX设计（中优先级）
⏳ **待开始** - 节点样式、颜色方案、交互模式

### 第三步：布局算法选择（低优先级）
⏳ **待开始** - 分层布局 vs 网格布局

---

*创意阶段文档将随着每个决策的完成而更新*

---

# 📌 创意决策 #1：技术架构 - 部署方式选择

📌 **CREATIVE PHASE START**: 部署方式架构决策
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

## 1️⃣ PROBLEM
**Description**: 确定DAG可视化工具的最佳部署方式
**Requirements**: 
- 易于安装和使用
- 支持跨浏览器
- 开发维护简单
- 用户体验流畅
- 支持文件上传/本地JSON读取

**Constraints**: 
- 必须支持原生JavaScript + SVG技术栈
- 需要访问本地文件系统或用户上传文件
- 目标用户为技术开发人员
- 开发资源有限（个人项目）

## 2️⃣ OPTIONS
**Option A**: 油猴脚本 (Tampermonkey) - 用户脚本管理器部署
**Option B**: 浏览器插件 (Chrome Extension) - 官方扩展商店分发  
**Option C**: 混合方案 - 同时支持油猴脚本和浏览器插件

## 3️⃣ ANALYSIS
| 评估标准 | 油猴脚本 | 浏览器插件 | 混合方案 |
|--------|---------|-----------|----------|
| 开发复杂度 | ⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 安装便利性 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 跨浏览器支持 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| 文件访问能力 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 分发便利性 | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐ |
| 维护成本 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ |
| 权限管理 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |

**Key Insights**:
- 油猴脚本开发最简单，单文件即可，但文件访问受限
- 浏览器插件提供最佳的文件访问和权限管理，但开发复杂度高
- 混合方案覆盖面最广，但维护工作量加倍
- 目标用户为技术人员，对油猴脚本接受度较高

## 4️⃣ DECISION
**Selected**: Option A: 油猴脚本优先，后期考虑浏览器插件
**Rationale**: 
- 开发速度快，符合轻量级项目定位
- 技术用户对油猴脚本熟悉，安装门槛低
- 单文件分发，维护简单
- 可通过文件上传API解决文件访问限制
- 符合"先验证后完善"的开发策略

## 5️⃣ IMPLEMENTATION NOTES
- 使用 `@grant` 指令申请必要权限
- 实现文件上传界面替代直接文件系统访问
- 添加拖拽上传功能提升用户体验
- 设计简单的配置界面（注入到页面）
- 预留插件转换的架构设计（模块化代码）
- 考虑使用 `@match` 或 `@include` 指定运行页面

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📌 **CREATIVE PHASE END**: 部署方式决策完成 ✅ 