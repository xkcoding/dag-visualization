# ��️ 系统模式

## 🔧 架构模式
**轻量级前端架构** - 适合浏览器插件/用户脚本的模块化设计

## 📦 设计模式
- **模块化设计**: 每个组件独立可测试
- **观察者模式**: 用于事件管理和组件通信
- **策略模式**: 支持多种图形库和布局算法

## 🌐 技术栈选择

### 初步技术栈决策：
- **核心语言**: JavaScript (ES6+)
- **图形可视化**: Cytoscape.js (优先选择)
  - 理由：专为图形可视化设计，性能优秀，API 友好
  - 备选：D3.js (更灵活但学习曲线陡峭)
- **构建工具**: Rollup (轻量级，适合库构建)
- **包管理器**: npm
- **部署方式**: 优先考虑油猴脚本（开发简单，部署便捷）

### 技术选择理由：
1. **Cytoscape.js**: 
   - 专为 DAG/网络图设计
   - 内置多种布局算法
   - 良好的性能表现
   - 丰富的交互支持

2. **Rollup**:
   - 更小的打包体积
   - 原生 ES6 模块支持
   - 适合库和工具构建

3. **油猴脚本优先**:
   - 开发流程简单
   - 无需复杂的权限配置
   - 用户安装便捷
   - 跨浏览器兼容性好

## 📄 数据处理模式
**JSON 解析 → 数据标准化 → 图形渲染**

1. 解析原始 DAG JSON
2. 转换为标准化的 nodes/edges 结构
3. 应用布局算法
4. 渲染到 Cytoscape.js 实例

## 🔗 集成模式
**用户脚本注入模式** - 通过 DOM 操作在目标页面创建可视化界面

---
*技术栈确定时间: 当前规划阶段* 